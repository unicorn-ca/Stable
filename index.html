<!DOCTYPE html>
<html>
    <head>
        <!-- HEADER PREAMBLE -->
        <meta charset="utf-8">
        <title>Stable By unicorn-ca</title>
        <link rel="icon" href="assets/images/stable.png">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="github.com/unicorn-ca">

        <!-- STYLESHEETS -->
        <link rel="stylesheet" href="lib/fonts/material-design-iconic-font/css/material-design-iconic-font.css">
        <link rel="stylesheet" type="text/css" href="lib/tooltipster/dist/css/tooltipster.bundle.min.css" />
        <link rel="stylesheet" type="text/css" href="lib/tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-light.min.css" />
        <link rel="stylesheet" type="text/css" href="lib/fontello/css/fontello.css" />
        <link rel="stylesheet" href="assets/css/style.css">

        <!-- SCRIPTS -->
        <script src="lib/jquery/jquery-3.3.1.min.js"></script>
        <script src="lib/jquery/jquery.steps.js"></script>
        <script type="text/javascript" src="lib/tooltipster/dist/js/tooltipster.bundle.min.js"></script>
        <script type="text/javascript" src="lib/jszip/jszip.min.js"></script>
        <script type="text/javascript" src="lib/FileSaver/FileSaver.min.js"></script>

        <script src="assets/js/project_functions.js"></script>
        <script src="assets/js/pipeline_project_functions.js"></script>
        <script src="assets/js/serverless_string.js"></script>

        <script src="assets/js/main.js" defer></script>
    </head>

    <body class="wrapper">
        <form action="" id="wizard">
            <!-- SECTION 0 - Preamble -->
            <h2><p class="step-text"></p></h2>
            <section class="page">
                <div class="image-holder">
                    <img src="assets/images/stable.png" alt="" class="stable-img">
                </div>
                <div class="form-header">
                    <h3>Stable</h3>
                </div>
                <div class="form-content">
                    <h2>Welcome to Unicorn</h2>
                    <div class="text-content">
                        <p>Here in the Stable you can configure your installation through a launch Wizard.</p>
                        <p>Before you begin make sure you have met the prerequisites <a href="#">here</a>.
                        Namely make sure you have 3 AWS accounts and the IAM Users to access them.</p>
                    </div>
                    <div class="text-content">
                        <p>Required fields are marked with a *.</p>
                        <p>More information on each parameter can be viewed by
                        hovering your cursor over each field name.</p>
                        <p style="padding: 1em 0;">Click Next to begin.</p>
                        <p style="color: #bbb">If your previous installation failed, data will be
                        automatically reloaded. If you do NOT wish for this to
                        happen click <a href="?install=clean">here</a>.<p>
                    </div>
                </div>
            </section>
            <!-- SECTION 1 - Pipeline [Deployment] Options -->
            <h2><p class="step-text"></p></h2>
            <!-- Pipeline and Deployment Options -->
            <section class="page">
                <div class="image-holder">
                    <img src="assets/images/stable.png" alt="" class="stable-img">
                </div>
                <div class="form-header">
                    <h3>Stable</h3>
                </div>
                <div class="form-content">
                    <p>Account Setup</p>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="AWS account ID for the central account">Central Account ID</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="CentralAwsAccountId" id="central_account_id" placeholder="Central Account ID" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="AWS account ID for development account">Dev Account ID</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="DevAwsAccountId" id="dev_account_id" placeholder="Dev Account ID" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="AWS account ID for production account">Prod Account ID</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="ProdAwsAccountId" id="prod_account_id" placeholder="Prod Account ID" class="form-control" data-required>
                        </div>
                    </div>
                    <br/>
                    <p>
                    Installation Options
                    <p style="color: #bbb; font-size: 0.5em;">These options cover how the pipeline itself should be installed.</p>
                    </p>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="The region you are deploying to">Region</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="region" value="ap-southeast-2" id="region" placeholder="Region" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="S3 staging bucket name">Staging Bucket Name</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="StagingBucket" id="deployment_bucket_name" placeholder="Deploy Bucket Name" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="The key in the bucket were installation artifacts should be uplodaded to">Staging Bucket Key Prefix</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="staging_bucket_key_prefix" id="staging_bucket_key_prefix" placeholder="Staging Bucket Key Prefix" class="form-control">
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="Name of the stack that should be created during the installation step">Install Stack Name</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="predeploy_stack_name" value="unicorn-predeploy" id="predeploy_stack_name" placeholder="Install Stack Name" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="Name of the final pipeline stack that should be created">Pipeline Stack Name</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="master_stack_name" value="unicorn-pipeline" id="master_stack_name" placeholder="Pipeline Stack Name" class="form-control" data-required>
                        </div>
                    </div>
                    <p>
                    Authentication Options
                    <p style="color: #bbb; font-size: 0.5em;">We currently only support AWS profiles through the wizard. If you wish to deploy using STS tokens or raw access keys please utilize herd directly.</p>
                    </p>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="aws-cli profile for the dev account">Dev AWS-CLI Profile</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="dev_profile" id="dev_profile" placeholder="Dev Profile" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="aws-cli profile for the production account">Production AWS-CLI Profile</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="prod_profile" id="prod_profile" placeholder="Production Profile" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="aws-cli profile for the master account">Master AWS-CLI Profile</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="master_profile" id="master_profile" placeholder="Master Profile" class="form-control" data-required>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 2 - Build Options -->
            <h2><p class="step-text"></p></h2>
            <section class="page">
                <div class="image-holder">
                    <img src="assets/images/stable.png" alt="" class="stable-img">
                </div>
                <div class="form-header">
                    <h3>Stable</h3>
                </div>

                <div class="form-content">
                    <p>API Options</p>
                    <!-- NOTE: This isn't used -->
                    <div class="form-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="Your desired API runtime">API Runtime</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="api_runtime" id="api_runtime" placeholder="API Runtime" class="form-control">
                            <!-- TODO: This should be a select -->
                        </div>
                    </div>
                    <br/>

                    <p>Commit Options</p>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="The name of your API">App Name</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="appName" id="app_name" placeholder="App Name" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="Feature branch">Branch</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="branch" value="master" id="branch" placeholder="Branch" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="The name of the group with permissions to push to the project's CodeCommit repository">CodeCommit Group Name</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="codecommit_group_name" id="codecommit_group_name" placeholder="CodeCommit Group Name" class="form-control" data-required>
                        </div>
                    </div>
                    <br/>

                    <!-- TODO: honestly might just cut this -->
                    <p>Build Options</p>
                        <div class="form-row">
                            <div class="form-holder">
                                <p class="form-text tooltip" title="Required mapping. Represents the build spec version. We recommend that you use 0.2.">Version</p>
                            </div>
                            <div class="form-holder">
                                <input type="text" id="codebuild_version" placeholder="Version" class="form-control">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-holder">
                                <p class="form-text tooltip" title="Optional sequence. Represents the commands, if any, that CodeBuild runs during installation. We recommend that you use the install phase only for installing packages in the build environment. For example, you might use this phase to install a code testing framework such as Mocha or RSpec.">Runtime Versions</p>
                            </div>
                            <div class="form-holder">
                                <textarea id="runtime_versions" class="form-control tooltip" placeholder="Runtime Versions" title="Required if using the Ubuntu standard image 2.0 or later, or the Amazon Linux (AL2) standard image 1.0 or later. A runtime version is not supported with a custom image or the Ubuntu standard image 1.0. If specified, at least one runtime must be included in this section. Specify a runtime using a major version only, such as 'java: openjdk11' or 'ruby: 2.6.' You can specify the runtime using a number or an environment variable. For example, if you use the Amazon Linux 2 standard image 1.0, then the following specifies that version 8 of Java, version 29 of Android, and a version contained in an environment variable of Ruby is installed. For more information, see Docker Images Provided by CodeBuild."></textarea>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-holder">
                                <p class="form-text tooltip" title="Optional sequence. Represents the commands, if any, that CodeBuild runs before the build. For example, you might use this phase to sign in to Amazon ECR, or you might install npm dependencies.">PreBuild Commands</p>
                            </div>
                            <div class="form-holder">
                                <textarea id="pre_build_commands" class="form-control tooltip" placeholder="PreBuild Commands" title="Required sequence if pre_build is specified. Contains a sequence of scalars, where each scalar represents a single command that CodeBuild runs before the build. CodeBuild runs each command, one at a time, in the order listed, from beginning to end."></textarea>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-holder">
                                <p class="form-text tooltip" title="Optional sequence. Represents the commands, if any, that CodeBuild runs during the build. For example, you might use this phase to run Mocha, RSpec, or sbt.">Build Commands</p>
                            </div>
                            <div class="form-holder">
                                <textarea id="build_commands" class="form-control tooltip" placeholder="Build Commands" title="Required if build is specified. Contains a sequence of scalars, where each scalar represents a single command that CodeBuild runs during the build. CodeBuild runs each command, one at a time, in the order listed, from beginning to end."></textarea>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-holder">
                                <p class="form-text tooltip" title="Optional sequence. Represents the commands, if any, that CodeBuild runs after the build. For example, you might use Maven to package the build artifacts into a JAR or WAR file, or you might push a Docker image into Amazon ECR. Then you might send a build notification through Amazon SNS.">Post Build Commands</p>
                            </div>
                            <div class="form-holder">
                                <textarea id="post_build_commands" class="form-control tooltip" placeholder="Post Build Commands" title="Required if post_build is specified. Contains a sequence of scalars, where each scalar represents a single command that CodeBuild runs after the build. CodeBuild runs each command, one at a time, in the order listed, from beginning to end."></textarea>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-holder">
                                <p class="form-text tooltip" title="Optional sequence. Represents information about where CodeBuild can find the build output and how CodeBuild prepares it for uploading to the Amazon S3 output bucket. This sequence is not required if, for example, you are building and pushing a Docker image to Amazon ECR, or you are running unit tests on your source code, but not building it.">Artifacts</p>
                            </div>
                            <div class="form-holder">
                                <textarea id="artifacts" class="form-control tooltip" placeholder="Artifacts" title="Required sequence. Represents the locations that contain the build output artifacts in the build environment. Contains a sequence of scalars, with each scalar representing a separate location where CodeBuild can find build output artifacts, relative to the original build location or, if set, the base directory."></textarea>
                            </div>
                        </div>
                    <br/>

                    <p>Deploy Options</p>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="The name of your root cloudformation template (or the artifact produced by CodeBuild)">Deployment File Name</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="deployment_file_name" id="deployment_file_name" placeholder="Deployment File Name" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="Name of the change set to be created with every deployment">Changeset Name</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="changset_name" id="changeset_name" placeholder="Changeset Name" class="form-control" data-required>
                        </div>
                    </div>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="Key containing the name of the ApiGateway produced by your cloudformation deployment's output">ApiGateway CFN Output Key</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="cfn_output" id="cfn_output" placeholder="CFN Output Containing API Gateway URL" class="form-control" data-required>
                        </div>
                    </div>
                    <br/>
                    <!-- TODO: Figure out where these are going -->
                    <div class="form-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="CFN Stack name for production deployment">Production Stack Name</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="prod_stack_name" id="prod_stack_name" placeholder="Production Stack Name" class="form-control">
                        </div>
                    </div>
                    <br/>
                    <div class="form-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="CFN Stack name for dev deployment">Dev Stack Name</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="dev_stack_name" id="dev_stack_name" placeholder="Dev Stack Name" class="form-control">
                        </div>
                    </div>
                    <!-- End TODO -->
                    <br/>

                    <p>Fuzzer Options</p>
                    <div class="form-row required-row">
                        <div class="form-holder">
                            <p class="form-text tooltip" title="Timeout in seconds">Timeout (s)</p>
                        </div>
                        <div class="form-holder">
                            <input type="text" name="fuzzer_timeout" value="300" id="fuzzer_timeout" placeholder="Timeout" class="form-control" data-required>
                        </div>
                    </div>

                </div>
            </section>

            <!-- SECTION 3 - Summary -->
            <h2><p class="step-text"></p></h2>
            <section>
                <div class="page">
                    <div class="image-holder">
                        <img src="assets/images/stable.png" alt="" class="stable-img">
                    </div>
                    <div class="form-header">
                        <h3>Stable</h3>
                    </div>

                    <div class="form-content">
                        <div id="deploy-controls" class="btn-group">
                            <button class="btn btn-primary" id="export">
                                <i class="icon-export"></i>Export Application Setup
                            </button>
                            <button class="btn btn-primary" id="deploy">
                                <i class="icon-upload"></i>Deploy to AWS
                            </button>
                        </div>
                        <p>Summary</p>
                        <div id="summary-content"></div>
                    </div>
                </div>
            </section>
        </form>
        <div class="modal-overlay"></div>
        <div class="modal">
            <div class="modal-header">Deploying application...</div>
            <div class="modal-body">
                <div class="progress">
                    <div class="progress-bar">
                        <div class="progress-bar-wrapper">
                            <div class="progress-bar-progress"></div>
                        </div>
                    </div>
                    <div class="progress-info">Some action</div>
                </div>
                <div class="event-log">
                    
                </div>
            </div>
        </div>
    </body>
</html>
